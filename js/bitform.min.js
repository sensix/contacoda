function BitForm(t,e){this.selector=t,this.uri=e}BitForm.prototype.mount=function(){const t=this,e=$(t.selector);function o(t,e){let o="h3 text-center text-danger";t&&(o="h3 text-center text-success"),$("#success").removeClass().addClass(o).text(e),$("#success").fadeIn(),setTimeout(()=>{$("#success").fadeOut()},2e3)}function n(){e.removeClass().addClass("shake animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(){$(this).removeClass()}))}function i(){const i=$(e).attr("action"),s=new Date,a={body:{}},c=`#${$(e).attr("id")} :input`;$(c).not(".bitformExclude").each((function(){a.body[$(this).attr("id")]=$(this).val()})),a.uri=t.uri,a.timestamp=s.getTime(),console.log(a),$.ajax({url:i,method:"POST",headers:{"x-bitapp-uri":t.uri,"Content-Type":"application/json"},dataType:"json",data:JSON.stringify(a)}).success(()=>{console.log("bitform 201"),e[0].reset(),o(!0,"Grazie per averci contattato!")}).fail(t=>{console.log("bitform FAIL"),n(),o(!1,t.responseJSON.message)})}e.validator().on("submit",t=>{t.isDefaultPrevented()?(console.log("FAIL"),n(),o(!1,"Compilare in modo corretto tutti i campi.")):(console.log("SUCCESS"),t.preventDefault(),i())})};