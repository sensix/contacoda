function BitForm(t,e){this.selector=t,this.uri=e}BitForm.prototype.mount=function(){const t=this,e=$(t.selector);function o(t,e){let o="h3 text-center text-danger";t&&(o="h3 text-center text-success"),$("#success").removeClass().addClass(o).text(e),$("#success").fadeIn(),setTimeout(()=>{$("#success").fadeOut()},5e3)}function i(){e.removeClass().addClass("tada animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(){$(this).removeClass()}))}function n(){const n=$(e).attr("action"),s=new Date,a={body:{}},r=`#${$(e).attr("id")} :input`;$(r).not(".bitformExclude").each((function(){a.body[$(this).attr("id")]=$(this).val()})),a.uri=t.uri,a.timestamp=s.getTime(),console.log(a),o(!0,"Invio in corso ..."),$.ajax({url:n,method:"POST",headers:{"x-bitapp-uri":t.uri,"Content-Type":"application/json"},dataType:"json",data:JSON.stringify(a)}).done(()=>{console.log("bitform 201"),e[0].reset(),o(!0,"Grazie per averci contattato!")}).fail(t=>{console.log("bitform FAIL"),i(),o(!1,t.responseJSON.message)})}e.validator().on("submit",t=>{t.isDefaultPrevented()?(console.log("FAIL"),i(),o(!1,"Compilare in modo corretto tutti i campi obbligatori.")):(console.log("SUCCESS"),t.preventDefault(),n())})};