function BitForm(t){this.selector=t}BitForm.prototype.mount=function(){const t=$(this.selector);function e(t,e){let i="h3 text-center text-danger";t&&(i="h3 text-center text-success"),$("#success").removeClass().addClass(i).text(e),$("#success").fadeIn(),setTimeout(()=>{$("#success").fadeOut()},2e3)}function i(){t.removeClass().addClass("shake animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(){$(this).removeClass()}))}function n(){const n=$("#bitformUri").val(),o=$(t).attr("action"),a=new Date,s={body:{}},r=`#${$(t).attr("id")} :input`;$(r).not(".bitformExclude").each((function(){s.body[$(this).attr("id")]=$(this).val()})),s.uri=s.body.bitformUri,s.timestamp=a.getTime(),console.log(s),$.ajax({url:o,method:"POST",headers:{"x-bitapp-uri":n,"Content-Type":"application/json"},dataType:"json",data:JSON.stringify(s)}).done((t[0].reset(),void e(!0,"Grazie per averci contattato!"))).fail(t=>{i(),e(!1,t.responseJSON.message)})}t.validator().on("submit",t=>{t.isDefaultPrevented()?(i(),e(!1,"Compilare in modo corretto tutti i campi.")):(t.preventDefault(),n())})};